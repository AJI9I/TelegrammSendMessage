# TeggammMessage

Программа для автоматической рассылки сообщений в группы Telegram с поддержкой планировщика и автоматического вступления в группы.

## Возможности

- ✅ Авторизация через свой аккаунт Telegram
- ✅ Загрузка групп из текстового файла
- ✅ Автоматическое вступление в группы (если не состоите)
- ✅ Рассылка сообщений с настраиваемыми задержками
- ✅ Планировщик рассылок:
  - Немедленная рассылка
  - Интервальная рассылка (раз в N часов)
  - Рассылка по расписанию (конкретные времена)
- ✅ Графический интерфейс
- ✅ Логирование всех операций
- ✅ Защита от блокировки (случайные задержки)

## Требования

- Python 3.8 или выше
- Windows, Linux или macOS

## Установка

1. Клонируйте репозиторий или скачайте проект

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Получите API credentials на https://my.telegram.org:
   - Войдите в аккаунт
   - Перейдите в "API development tools"
   - Создайте приложение
   - Сохраните `api_id` и `api_hash`

4. Скопируйте пример конфигурации:
```bash
copy config\config.ini.example config\config.ini
```

5. Откройте `config\config.ini` и вставьте свои `api_id` и `api_hash`

## Использование

### Запуск программы

```bash
python src/main.py
```

### Первый запуск

1. Нажмите кнопку "Авторизация"
2. Введите API ID и API Hash (полученные на my.telegram.org)
3. Введите номер телефона (с кодом страны, например: +79991234567)
4. Введите код подтверждения из Telegram
5. Если включена 2FA, введите пароль

### Подготовка файла с группами

Создайте текстовый файл (например, `groups.txt`) со списком групп. Каждая группа на новой строке:

```
@mygroup1
@mygroup2
https://t.me/anothergroup
t.me/yetanothergroup
https://t.me/joinchat/xxxxx
```

Поддерживаемые форматы:
- `@username` - username группы
- `https://t.me/username` - полная ссылка
- `t.me/username` - короткая ссылка
- `https://t.me/joinchat/xxxxx` - invite link

### Работа с программой

1. **Ввод сообщения:**
   - Введите текст сообщения в многострочное поле
   - Счетчик символов покажет длину сообщения

2. **Выбор групп:**
   - Нажмите "Загрузить из файла" и выберите файл с группами
   - Или используйте "Выбрать вручную" (функция в разработке)

3. **Настройка планировщика:**
   - **Немедленно**: рассылка сразу после нажатия кнопки
   - **Интервал**: рассылка каждые N часов (например, раз в 3 часа)
   - **Расписание**: рассылка в конкретные времена (например: 9,12,14,19)

4. **Запуск рассылки:**
   - Для немедленной рассылки: нажмите "Начать рассылку"
   - Для планировщика: настройте режим и нажмите "Включить планировщик"

### Настройки задержек

По умолчанию:
- Задержка при вступлении в группы: 5-15 секунд (случайная)
- Задержка при отправке сообщений: 3-10 секунд (случайная)

Настройки можно изменить в файле `config/config.ini` в секции `[delays]`.

## Структура проекта

```
TeggammMessage/
├── src/
│   ├── main.py                 # Точка входа
│   ├── telegram_client.py      # Работа с Telegram API
│   ├── group_manager.py        # Управление группами
│   ├── message_sender.py       # Рассылка сообщений
│   ├── scheduler.py            # Планировщик рассылок
│   ├── config_manager.py       # Управление конфигурацией
│   ├── ui/
│   │   ├── main_window.py      # Главное окно
│   │   └── auth_window.py      # Окно авторизации
│   └── utils/
│       ├── logger.py           # Логирование
│       ├── delay_manager.py    # Управление задержками
│       └── file_parser.py      # Парсинг файла с группами
├── config/
│   └── config.ini              # Конфигурация (создается автоматически)
├── sessions/                   # Сессии Telegram
├── logs/                       # Логи
├── requirements.txt            # Зависимости
└── README.md                   # Документация
```

## Важные предупреждения

⚠️ **ВНИМАНИЕ:**
- Использование программы для спама может привести к **блокировке аккаунта Telegram**
- Соблюдайте правила Telegram и правила групп
- Используйте разумные задержки между действиями
- Не рассылайте сообщения без разрешения администраторов групп
- Программа предоставляется "как есть", без гарантий

## Логирование

Все операции логируются в папке `logs/`:
- `app.log` - общий лог
- `errors.log` - только ошибки

## Устранение неполадок

### Ошибка авторизации
- Проверьте правильность API ID и API Hash
- Убедитесь, что номер телефона введен с кодом страны
- Проверьте код подтверждения

### Группа не найдена
- Проверьте правильность username или ссылки
- Убедитесь, что группа существует и доступна

### Ошибка вступления в группу
- Некоторые группы требуют приглашения
- Проверьте, не забанены ли вы в группе
- Убедитесь, что ссылка-приглашение не истекла

### FloodWait
- Telegram временно ограничил запросы
- Подождите указанное время
- Увеличьте задержки в настройках

## Лицензия

Проект создан в образовательных целях. Используйте на свой страх и риск.

## Поддержка

При возникновении проблем проверьте логи в папке `logs/`.

